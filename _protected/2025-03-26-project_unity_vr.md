# 수정사항
* 1. 첫 수술시점을 멀리서 부터. 환자 앞에 화살표를 두고 안내문구를 둬서 클릭할 수 있도록
* 2. 서있는 지점을 환자로 부터 조금 멀리 띄우기 (1과 같은 내용)
* 3. UI를 돌려서 VR시점상에서 정면으로 보이도록 하기
* 4. 안내문구 수정이나 배경색 변경은 전면취소 (수정할 것 없음)
* 5. 환자에 충돌체 추가, 테이블 높이기
* 6. 수술 도구들의 이름을 수술도구와 가까이 두기 (특히 트로카와 집게)
* 7. 이름표 수정 (키트니 트레이 > 트레이, 복강경 포셉 > 집게, 복강경 가위 > 가위, 포셉조정레버 > 집게 조정레버)
* 8. 주사기 꽂을 카테터 만들고 주사기 사라지지 않도록 하기
* 9. 메스를 가지고 가면 3군데 모두 절개 애니메이션, 메스는 즉시 테이블로
* 10. 메스 움직이는 애니메이션시 레이를 메스에 고정
* 11. 메스 애니메이션이 끝나고 공중에 메스를 두어 테이블에 다시 되돌려 놓을 수 있도록
* 12. 환자에서 모니터 쪽으로 이동시 바닥에 텔레포트용 버튼 추가하기
* 13. 모니터 화면에서 표시되는 안내문구를 2줄 이하로, 가로가 길어지면 버튼들을 외부로 이동 (조금이라도 더 기계장치가 보일 수 있도록)
* 14. 담낭 집게, 가위 애니메이션은 대부분 그대로 사용
* 15. 클립들의 위치를 조정하여 곂쳐 보이지 않도록 하기
* 16. 혈관이 눌려보이는 표현은 필요치 않음 (전면 철회)
* 17. 집게의 모델 다른것으로 교체 (뭉툭 > 뽀족)
* 18. 담낭제거는 기존처럼 아래 방향으로. 이동량이 적어 모니터 상에 남으니 모니터 밖으로 빼기
* 19. 레이와 조정레버 싱크 맞추기 (버그 수정시 테스트 해보고 추가 수정)
* 20. 담낭 제거후 환자쪽으로 텔레포트, 집게를 클릭할 수 있도록하여 클릭하면 빼는 애니메이션 재생
* 21. '집게를 빼서 당낭을 트레이로 옮기세요' 집게의 아웃라인이 환자 몸에서 뜨는건 괜찮음
* 22. 담낭을 트레이에 둔 후 next를 누르면 담낭이 사라짐, 유지시키기
* 23. 밴드가 환자의 몸과 조금 떨어져 있는 것 같아 보임. 잘 붙어있도록 애니메이션 조정 (검은 구체를 유지한체로 붙이면서 구체가 사라지는것이 어떤지)
* 24. '복강경 수술 체험이 완료되었습니다' 녹색 글씨
* 25. UI 색깔을 바꾸어 쓰임에 맞도록 수정 (전면취소)
  
* 26. 버그확인 reset시 한번이라도 드래그 했던 객체는 드래그로 시작함 (Unfix 문제인가?)
* 27. 매 챕터 Unfix 하는 문제 때문에 조종기 fix가 먹히지 않는다. (챕터 unfix 사용하지 않기로)
* 28. fix시 trigger cube 부딧쳤을때 fix 상태로 챕터넘어가는거 해결해야함

---

* 1. 환자레이 통과하지 않도록, 물체과 통과하는것은 일단 보류
* 2. 레이로 모니터를 터치하여 클립을 집히도록 - 두번 클릭으로 각각 2개씩
* 3. 담낭을 찝은 집게에 붉은 아웃라인이 생긱는 것 괜찮음

---

# 비행기 VR
1. 계기판은 변화가 보일정도로의 크기
    - 속도와 고도는 따로 옆부분에 숫자로 항항 현재 상태와 동기화 되도록 변하는게 보이도록
    - 변하는 것은 실시간이 아니더라도 거리에 따라, 또는 일정 시간이 지나면 변하도록 하고 싶다

2. 이륙후 화면교체, 착륙전 화면교체 동의함
3. 순간순간 멈추는 것에 대하여 바깥 배경 정도는 움직였으면 좋겠다. (모순이 있음)

기능정의
1. 조종간(Yoke 또는 Side Stick) - 방향 조종
    - 자동차의 핸들 같은 역할을 함
    - 앞으로 밀면 기수가 아래로, 당기면 위로 올라감
    - 좌우로 움직이면 비행기가 좌우로 기울어짐(회전)
2. 스로틀 레버(Throttle) - 엔진 출력 조절
    - 앞으로 밀면 엔진 출력증가 - 속도증가
    - 뒤로 당기면 엔진 출력감소 - 속도감소
    - 이륙할 때 최대 출력, 착륙할 때는 속도를 조절하면서 내림
3. 리더 페달(Rudder Pedal) - 방향조절
    - 발로 조작하는 페달
    - 지상에서는 활주로에서 방향을 조절
4. 렌딩기어 - 바퀴 조작
    - 스위치 위아래로 위치시킴
    - 이륙시 바퀴 접음, 착륙시 바퀴 내림
5. 계기판 - 이착륙시 각종 정보를 디스플레이에 표시
    - 속도계, 자세계, 방향계, 고도계
<img style='border:solid 1px black;' src="https://image.onethelab.com/resized/1742952369.jpg" />
6. 엔진스위치 - 좌,우

---

# 이착륙 절차
## 이륙
1. 첫 스위치 2~3개 정도 누르기(전원, 배터리 등 간단하게 표현만 해주기 위함) (첨부 동영상 참조)
2. 엔진 스위치 ON (2개를 동시에 켜도 될 듯), 이때 외부 view를 통해 날개 부분의 엔진이 작동되는 모습을 자동으로 보여주기 
3. 리더 페달을 이용하여 이륙할 활주로 위치로 비행기 이동  시킴 (이때 스로틀을 밀어 엔진 출력을 올려 속도를 내면서 이동)
4. 러더 페달을 이용해 활주로에 평행하도록 유지 (어느정도 정렬되면 자동으로 최종 맞춰지도록)
5. 스로틀을 밀어 엔진 출력을 최대로 올림.
6. 속도가 충분히 올라가면 조종간을 부드럽게 당겨 기수를 들어 올림
7. 비행기가 떠오르면 랜딩기어 스위치를 통해 바퀴 접음 (외부 view에서 바퀴 들어가는 모습 보여주기, 동영상 참조)
## 착륙
1. 착륙 버튼(이륙후에 일정정도 시간이 지나면 화면 한쪽에 자동으로 VR화면에 생성되도록) 누르기
2. 비행기 위치가 활주로가 보이는 위치로 이동함
3. 조종간을 조절하여 활주로와 평행하게 맞추기 (어느정도 맞추면 자동으로 활주로에 정렬 되게끔)
4. 활주로 정렬된 후 자동으로 서서히 속도가 낮춰지고 천천히 하강함
5. 랜딩기어 스위치(바퀴가 나오는 버튼)를 누름 (외부 view에서 바퀴 나오는 모습 보여주기)
6. 착륙 직전에 조종간을 약간 당겨 부드럽게 착지, 스로틀을 당겨서 속도 줄이기
7. 바퀴가 닿으면 천천히 감속 
8. 멈추기 직전은 자동으로 외부 view로 (옆모습) 보여주면서 종료

## 참고사항
1. 이륙 전에 활주로에서 방향을 바꾸면서 바퀴로 운항하기
2. 이륙, 착륙 및 운항중에 언제든 버튼을 누르면 외부 영상 (비행기 기체 위쪽 뷰로 하여) 볼 수 있도록. 이때 시선을 움직이면 해당 방향에 맞게 배경 볼 수 있게. 그 후 back버튼으로 다시 조종석으로 돌아오게 설정 (뒷 첨부 사진 및 영상 참조)
3. 단, 바퀴 펼쳐지고(이륙시) 접히는(착륙시) 동안에는 자동으로 비행기 외부에서 바퀴 보여지도록 (약 5초 동안만 보여주고 다시 복귀)
4. 게기판의 기본 기능을 학생들이 쉽게 보고 파악 가능하도록 (크기를 키워도 됨)
5. 이륙, 운항중 및 착륙 동안 그에 해당되는 소리 첨가
6. 실제 도심 배경 사용 / 비행기 및 에셋 등도 최대한 실제와 유사하도록
7. 도시 배경 사용 (VTS Landscape Streaming Plugin)

* https://youtu.be/CVSDEuC-V_A
* https://youtu.be/J_7atuANX-g
* https://youtu.be/F7UjKJ5wX14
* https://www.youtube.com/watch?v=FobNE5_OSVo&t=351s

---

# 첫화면 구성
각 VR를 대표장면과 제목으로 나열하고 레이로 선택하여 VR체험 입장

---

# 별도로 해야할 일들
1. 중화반응 실험을 위한 에셋 리스트 및 금액 정리
2. 복강경 수술을 위한 에셋 리스트 및 금액 정리

---

# ActiveChanger.active_target

0 : 주사기(환자),12 : 주사기(테이블)
1 : 메스(환자).13 : 메스(테이블)
2,3,4, : 구멍(환자)
5,6,7 : 트로카(환자)
8 : 팔 대상
9,10,11: 구멍 대상
14,15,16 : 트로카(테이블)
17,18,19 : 수술도구(테이블)
24,25,26 : 수술도구(환자)
20 : 트레이
21 : 스크린
22 : 가위 조종기
23: 포셉 조종기
27,28 :내부 대상
29:넥스트 버튼
30 : 환자쪽 발판
31 : 스크린쪽 발판
32 : 복귀 메스
33 : 트레이에 있는 담낭
34 : 클립 스위치

---

# ActiveChanger.active_datas

0설명 1텔레포트
2주사
3 메스,4 메스애니메이션, 5 돌려놓기, 6,7,8 트로카 9,10,11 수술도구
12 이동 13 담낭집기 14 클립끼기 15 가위
16 수거 17 텔레포트 18 트레이 19 트레이 애니대기 20 밴드 21 완료

---

# PositionChanger

안내문구, 플레이어 position changer 각각 1개씩
0 : 먼위치, 1 : 환자쪽, 2 : 모니터쪽
0 : 0,1
1 : 2,3,4,5,6,7,8,9,10,11,12,18,19,20
2 : 13,14,15,16,17

---

# 문구 추가내용
* 우측 하단의 발판을 선택하여 텔레포트 합니다.
* 좌측 하단의 발판을 선택하여 텔레포트 합니다.

---

# TriggerChanger
0~19

# AnimationChaner.animations


---

# 20250413 수정사항
* 1. 안내문구 고개 각도에 따라 계속 돌아감(버그)
* 2. 왼쪽 탤레포트 발판에 발자국 모양 그림 넣기
* 3. 초록색 화살표 거리 가깝게 만들기
* 4. 테이블 위 집게 이름표만 조금 오른쪽으로 이동
* 5. 주사기 클릭하여 트리거, 나머지 수술도구는 충돌범위 늘리기
* 6. 안내문구 크기 안맞음 - 메스 되돌리기, 우측 개구부
* 7. 오른쪽 텔레포트 발판 삭제, 안내문구 'next 버튼을 눌러 다음으로 진행합니다'
* 8. 집게 조종레버 초록 화살표. 3번 수정과 동일
* 9. 집게 조종레버, 가위 조종레버 크기변경, 색상변경, 길이변경

* 10. 스크린 클릭 대신 버튼 클릭
* 11. 담낭 조작하여 내려오도록 하기 - 취소
* 12. 환자쪽으로 되돌아 올때 텔레포트 삭제 - 화살표도 삭제
* 13. 붉은 아웃라인이 보이는 영역만 표시하기
* 14. 집게에 레이 고정하기
* 15. 집게 애니메이션 종료 후 전환
* 16. 뱃속 빛추가, 텍스쳐 색상 변경, 집게 가위 스테인레스
* 17. 주사기 레이 고정
* 18. 화살표 2단으로 수정시 견적발송
* 19. 레이를 더 얇고 날카로운 흰색 계열 적용
* 20. 처음 어플을 들어갔을때 선택창이 나타나고 앱 선택할 수 있도록
* 21. 애니메이션 강제진행으로 인해 prev 할수 없는 구간 발생

---

복강경 파일만 APK로 발송하기
안내문구 시점을 아래로 잡아당겨서 고정시키기 (살짝 들려있음)
* 가운데 하얀 점 없앨 수 있으면 없애기. - 삭제하지 않음 (확정)
* 주사기 환자팔 화살표 더 가깝게
* 스크린상, 모든 붉은 구체들 삭제
* 스크린 마지막 화면으로 고정.
* 꺼넨 -> 꺼낸. 안내문구 박스 크기 찌글어짐

중화+복강경 메뉴탭이 있는 APK 파일 발송, 비행기만 시작하자마자 바로 있는 ID가 분리된 APK 발송(총 2종) 하도록 하겠습니다. 

---

아마도 제 인터넷 환경이 안좋은 듯 하여 채팅으로 이야기 드릴께요.
본인오후 4:16
별도로 비행기 진입시 버벅거림, 나오면 해소됨 이라면 비행기 만의 문제 일 수 있는데. 비행기를 추가한 이유로 다른 실험까지 전부 버벅거리게 되는 일은 발생할 수 없습니다.
본인오후 4:17
의심되는 부분은 복강경 수술 라이트 문제 때문에 최대 랜더링 라이트를 1개에서 4개로 수정했는데 최대 라이트 랜더링 갯수가 많아지면서 발생했을 수 있습니다.
본인오후 4:17
넵 그 부분은 간단히 파일로 드릴수 있을 것 같습니다 기존처럼 apk파일이 덮어 씌워질 수 있습니다.
본인오후 4:18
넵
본인오후 4:19
일단 계산된 각도값중 하나를 고정값으로 사용한 것이라. 이것은 임의로 아래로 잡아당기는 방법으로 완료해야 할것 같습니다.
넵
본인오후 4:21
여부는 따로 확인하여 보겠습니다. 아마 구글카드보드 api에서 기본적으로 출력되는 부분이라. API를 열어서 수정해야합니다.
버그가 동반될수 있는 부분이라 안 건드리는것이 좋기는 합니다.
본인오후 4:21
그 부분은 제가 만든게 아니라서 점 자체를 찾을수 없거나. 수정중에 파일을 건드리면 기능에 장애가 생기거나 할 수 있습니다.
본인오후 4:22
네 비교적 수월한 부분이라면 적용을 하고. 문제가 될것 같으면 불가로 이야기 드리겠습니다.
본인오후 4:23
교체하는것은 크게 문제가 아니나. 원하는 것과 일치 하지 않을경우 재 작업이 예상되어. asset을 하나 정해주시는것이 나을 수 있습니다.
본인오후 4:24
https://assetstore.unity.com/ 내에서 builtin render pipe line 용 asset을 찾아야합니다.
본인오후 4:25
https://image.onethelab.com/resized/1744788309.jpg
이미지 첨부 드렸습니다. built-in에 지원되지 않음으로 표시 되어 있는 asset은 사용할 수가 없습니다.
예시의 경우엔 메인 페이지에 명시가 되어 있었고 간속 명시되어 있지 않은 에셋들도 있습니다.
네 그 경우가 한번에 완료하기 더 좋을 것 같습니다.
본인오후 4:27
전체적으로 공톡적용 되는 부분이라. 방법을 찾아보도록 하겠습니다. 특수적용하기는 어렵습니다.
본인오후 4:28
헌재는 두 화살표가 한 시점에서 켜지도록 되어있습니다. 시점 분리가 되어야 하여 절차가 19절차라면 38절차로 두배가 됩니다.
화살표의 색을 바꾸나. 투명도를 바꾸나. 표시하고 표시하지 않는등의 방법으로 절차를 간소화 할수가 없습니다.
네
본인오후 4:30
당상 예상되는 제작은 절차를 2배로 늘리고. next 버튼때 절차를 2개씩 뛰어넘고 prev때 절차를 2개씩 뛰어넘어서 되돌려야 합니다.
당장 예상에만 그렇고. 생각지 못한 문제가 발생되면 해당문제를 해결하기 위해 들어가는 작업시간까지 발생할 수 있습니다.
견적은 바로 이야기 드리기는 어려운데. 시간 잠시 주시면 계략적으로 계산을 해보겠습니다.
본인오후 4:31
5분 내로 가능할것 같은데 시간이 너무 길면 회의후에 메일로도 드릴수 있을 것 같습니다.
넵
본인오후 4:32
집게 조종레버를 이용하여 집게를 빨간 지점까지 옮겨야 한다는 표시로서.  새로 생겨난 버그라기 보다는 타겟지점 표시였습니다. 모든 붉은 구체들 삭제하겠습니다.
본인오후 4:34
네 그 부분은 버그가 있었고 마지막 장면으로 고정할 수 있도록 하겠습니다.
본인오후 4:35
네 오타부분 수정하고. 안내문구 크기 다시한번 확인 하겠습니다.
본인오후 4:39
중화반응 실험, 복강경, 비행기 견적안에. 통합앱을 만드는 금액이 포함되어 있지 않았습니다.
그낭 메인 페이지를 만들어서 해결될것 같으면. 비용들이지 않고 작업할수도 있는 부분이긴할텐데
지금처럼 최적화 문제가 발생하면 통합앱을 만드는 과정에서 앱 정리, 최적화작업 등을 해야하여 별도 통합앱 만드는 견적을 보내드리고
수락하시면 진행될 것 같습니다.
본인오후 4:40
이는  갑자기 이야기 나온것이 아니라. 처음에 통합앱에 관해서 '추후에 그런것도 원한다'라고 하셔서 초기에는 견적에 들어가지 않았습니다.
네 알겠습니다.
본인오후 4:41
APK파일의 용량 자체는 비행기에 영향을 받았을 수 있습니다.  여객기 모델, 활주로, 항공시점에 지형 등이 추가 되었습니다.
버벅거리는것, 앱의 용량이 큰것은 별개로 보셔야 하는게
버벅이는것은 랜더링 과정에서 CPI나 RAM이 부담스러워 하여. 랜더링이 늦어지는 현상이고
APK파일 크기가 커지는 것은 앱에 포함된 내용물이 많아서 내용물에 대한 정보가 용량으로 드러나는 것입니다.
본인오후 4:43
넵 비행기는 별도 APK 파일로 고개를 돌리고 레이를 움직일 수 있는 정도로 파일을 하나 발송드리겠습니다. 아마도 앱 아이디를 분리하면 될것이라 비행기만 별도로 앱아이디 분리하여 빌드 발송 드리겠습니다.
본인오후 4:44
항공뷰에서 버벅임이 발생하지 않는다면. 해당 퀄리티로 비행기를 진행할 수 있다는 이야기가 됩니다. 다만 현 항공뷰가 원했던 모습이 아니라면 부가 모델들을 추가하다가 버벅임이 발생할 수 있습니다.
본인오후 4:45






또한 통합앱을 진행하면서 최적화 작업이 어려워 지는 경우가 발생할 수 있습니다.

현재 도심뷰는 항공뷰 사진을 평평한 평판에 깔아서 보여드릴 생각을 했었습니다. 얼마나 효과가 좋을지는 진행을 해봐야 알수가 있는 부분이라 선듯 이야기 드리기 어렵네요.

---

일단 이로 인하여 완료일까지 3종의 VR을 만들겠다는 계획 자체는 번복되지 않았는지요?
본인오후 4:47
기간내에 완전히 새로운 VR을 계획하여 완료하겠다고 하면 비행기보다 어려움이 생길 수 있을 것 같습니다.
본인오후 4:48
아마도 실험 종류의 선정에서. 저에게 알려주시는것. PPT전달. 에셋 구하는것. 제작방식이 바뀌거나 견적을 새로 내야하는것도 기간을 늘어트리는 요인이 됩니다.
본인오후 4:49
새로운 VR관해서는 기존 견적내에 수행을 할 수 있는 내용이라면 괜찮겠지만 아니라면 금액에 맞추어 구현범위를 축소하거나. 아니면 다음예산에 추가 결제 형식으로  될 수도 있습니다.

---

넵 그정도 작업은 가능할 것 같고. 그게 이미 작업된 내용에 비용 지출 포함으로 기록해 두도록 하겠습니다. 저희가 추가수정사항 및 에셋에 관해서는 결제가 이루어지지 않았어서. 거기에 비용이 약간 포함될 것 같아요.
본인오후 4:52
네 확인하여 알려주시면 결정이 난 이후에 도심배경을 시작하겠습니다. 지금 상태는 APK파일로 전달 드리는것으로 하겠습니다.
달리 이야기 드릴 부분 없습니다.