---
layout: post
title: math 수학
category: etc
tags: math
---

# 회전행렬

```markdown
{a,b,tx}
{c,d,ty}
{0,0,1}
```

```c#
a= cos() b=-sin() c=sin() d=cos()
mat.a = +Math.cos(angle*Math.PI/180);
mat.b = -Math.sin(angle*Math.PI/180); 
mat.c = +Math.sin(angle*Math.PI/180); 
mat.d = +Math.cos(angle*Math.PI/180);
```

---

# 네 점을 알때. 각 두점을 통과하는 직선의 교점
```c#
private function setPoint(targetSprite:Sprite, sp1:Sprite, sp4:Sprite, sp2:Sprite, sp3:Sprite){
//두직선의 교점 시작

    var l1_m = (sp4.y-sp1.y)/(sp4.x-sp1.x); //기울기 
    var l1_d = sp1.y-(sp1.x*l1_m); //y절편 
    var l2_m = (sp3.y-sp2.y)/(sp3.x-sp2.x); //기울기 
    var l2_d = sp2.y-(sp2.x*l2_m); //y절편 
    var bool1:Boolean = (l1_d == Number.POSITIVE_INFINITY || l1_d == Number.NEGATIVE_INFINITY); 
    var bool2:Boolean = (l2_d == Number.POSITIVE_INFINITY || l2_d == Number.NEGATIVE_INFINITY); 
    if(l1_m == l2_m){ 
            l1_m = (sp4.y-sp1.y)/((sp4.x+0.0000001)-sp1.x); 
            l2_m = (sp3.y-sp2.y)/((sp3.x+0.0000001)-sp2.x); 
    }else if(bool1 || bool2){
            if(bool1)l1_m = (sp4.y-sp1.y)/((sp4.x+0.0000001)-sp1.x);
            if(bool2)l2_m = (sp3.y-sp2.y)/((sp3.x+0.0000001)-sp2.x);
    }
    l1_d = sp1.y-(sp1.x*l1_m); 
    l2_d = sp2.y-(sp2.x*l2_m); 
    var center_x:Number; var center_y:Number; 
    //두 일차함수 y절편이 무한(infinity)이 아닐경우 연산법 
    center_x = (l2_d - l1_d)/(l1_m-l2_m); 
    center_y = l1_m*center_x+l1_d; 
    //두직선의 교점 끝 
    targetSprite.x = center_x;
    targetSprite.y = center_y;
}
```