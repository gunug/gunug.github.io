---
layout: post
title: photoscanner
category: blog
tags: 
---

# 3D 데이터 선택

## 원본 이미지 드래그, 마스킹 선택
* 파일 폴더에 촬영한 백그라운드 사진과 모델 사진이 있는지 확인
* Agisoft Photo Scan Standard 실행
* ```바탕화면/윈도우 하단 메뉴바에서 찾기```
* 소프트웨어 창을 축소한 뒤 모델 사진들을 소프트웨어 Photos 칸에 드래그
* 경고창 'OK' 클릭하기
* 소프트웨어에 업로드한 Photos 칸의 사진들 전체 선택
* ```사진 전체 선택하는 법: 전체 드래그/ 사진 하나 클릭 후 'CTRL A'```
* 전체 선택한 사진들 위로 마우스 우클릭해 'Import Masks' 클릭
* 소프트웨어 중앙에 Import Masks 창 생성됨

## 이미지 마스킹
* 모든 작업에서는 흰 배경 설정창의 숫자 또는 옵션 선택만 하기
* Import Masks(이미지 마스킹)은 Tolerance의 게이지바를 이용하거나 숫자 입력하기
* ```보통 15~20 숫자 입력```
* 생성된 폴더 선택창에서 백그라운드 사진(BG)의 폴더 선택
* ```백그라운드 사진 폴더는 경로 표시 안됨```
* '폴더 선택' 버튼 클릭
* 1분 소요

---

# 데이터 변환
## 모델 생성 확인
* 키보드 숫자 5번키 누르기
* Photos칸의 왼쪽 위에서 'Display mask thumbnails' 아이콘 클릭해 적용 잘 되었는지 확인
* 왼쪽 상단 메뉴바에서 'Workflow' - 'Align Photos...' 클릭
* 생성된 Align Photos 창에서 'Highest' 설정 확인 후 'OK'버튼 클릭
* 약 11분 후 중앙에 3D 모델 생성 확인

## 3D 모델 수평 맞추기
* 전체 창 왼쪽 상단에서 'Rotate Object' 아이콘 클릭 후 키보드 숫자 1번키 누르기
* 마우스 좌클릭 '누른' 상태로 3D 모델이 정면 보도록 마우스 회전
* 키보드 숫자 2번키 누르고 3D 모델의 하단 수평 맞추기
* 키보드 숫자 3번키 누르고 3D 모델의 옆면 수평 맞추기
* 전체 창 왼쪽 상단에서 'Rotate region' 아이콘 클릭 후 키보드 숫자 1번키 누르기
* 3D 모델 위에 생성된 사각형에 마우스 좌클릭 '누른' 상태로 수평 맞추기
* 키보드 숫자 3번키 누르고 3D 모델의 옆면 수평 맞추기

## 3D 모델 사각형 맞추기
* 전체 창 왼쪽 상단에서 'Navigation' 아이콘 클릭 후 키보드 숫자 1번키 누르기
* 3D 모델이 박스 안에 들어가도록 모서리를 드래그해 사각형 크기 조절
* 키보드 숫자 2번키 누르고 사각형 하단 크기 맞추기
* 키보드 1~3번키 누르며 잘 적용됐는지 점검

## 폴리곤 데이터 정리
* 전체 창 상단의 'Rectangle Selection' 아이콘 누르기
* 튀어나온 폴리곤 데이터 드래그 선택 후 Delete 키 누르기
* 전체 점검 후 제거
* 완료시 왼쪽 상단 메뉴바에서 'Workflow' - 'Build Dense Cloud' 클릭
* 생성된 Build Dence Cloud 창에서 Quality가 Ultra high로 선택되었는지 확인 후 'OK'버튼 클릭
* 약 15분 소요
* 완료시 왼쪽 상단 메뉴바에서 'Workflow' - 'Build Mesh...' 클릭
* 생성된 Build Mesh창에서 Face count가 High로 선택되었는지 확인 후 OK버튼 클릭
* 약 15분 소요
* 왼쪽 상단 메뉴에서 'Tools' - 'Mesh' - 'Close Holes...'(홀 채우기) 클릭
* 왼쪽 상단 메뉴에서 'Tools' - 'Mesh' - 'Smooth Mesh...'(데이터 스무스) 클릭
* 생성된 Smooth Mesh창에서 Parameters Strength로 3~8 사이 숫자 입력
* ```중복 사용 가능한 창```
* 왼쪽 상단 메뉴에서 'File' - 'Save As...' 클릭으로 미리 저장
* 데이터 용량 줄이기 왼쪽 상단 메뉴에서 'Tools' - 'Mesh' - 'Decimate Mesh...'(데이터용량/폴리곤 줄이기) 클릭
* 생성된 Decimate Mesh창에서 target face count에 200,000입력 후 'OK'버튼 클릭 (고사양 데이터 원하면 패스)
* 약 15초 소요
* 왼쪽 상단 메뉴에서 'Work Flow' - 'Build Texture' 클릭
* 생성된 Build Texture 창에서 'OK'버튼 클릭
* 약 10초 소요

---

# 저장, 활용
## 모델 저장
* 최종 3D 모델 데이터 확인 및 상태 점검
* 왼쪽 상단 메뉴에서 'File' - 'Export Model...' 클릭
* 생성된 '다른 이름으로 저장' 창에서 파일 저장 위치 정하기
* '숫자 또는 영어로' 파일 이름 쓰고 '저장'버튼 클릭
* 생성된 'Export Model Wavefront OBJ'(이미지 저장 설정) 창에서 Export texture에 'JPEG' 체크 후 'OK'버튼 클릭
* 파일이 3종류(OBJ, JPEG, MTL)로 잘 저장되었는지 확인
* 저장된 3개의 파일 압축
* ```파일 이름 영어로 입력```

## 믹사모 모션 구현
* 인터넷 네이버 검색창으로 '믹사모' 검색해 믹사모 홈페이지 찾아 클릭
* 'Log In' 버튼으로 로그인하기
* ```현재 믹사모 무료```
* 개인 구글계정이나 학교에서 받은 구글 계정을 사용해 로그인
* 우측 상단에 'UPLOAD CHARACTER' 버튼 클릭
* 생성된 UPLOAD CHARACTER창 점선 영역에 압축한 3D 모델 파일 드래그
* 생성된 AUTO RIGGER창에서 왼쪽 하단 화살표 버튼 이용해 3D모델의 정면 잡기
* 'NEXT' 버튼 클릭해 다음으로 이동
* 오른쪽 예시 그림과 동일하게 3D 모델 위에서부터 턱 - 손목 - 팔꿈치 - 발꿈치 - 허리에 관절 역할을 하는 원 드래그해 배치
* 'NEXT' 버튼 클릭 후 약 2분 소요
* 믹사모 사이트에 3D 모델 캐릭터 생성
* 왼쪽 3D 모델들의 모션 클릭하면 3D 모델 캐릭터가 모션에 맞춰 움직임
* 모션 선택을 완료하고 오른쪽 상단의 'DOWNLOAD'버튼 클릭해 저장